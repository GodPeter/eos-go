package main

import (
	"encoding/json"
	"fmt"
	"github.com/eosspark/eos-go/p2p"
	"github.com/eosspark/eos-go/rlp"
)

func main() {

	// rlp.Debug = true

	// ver := &p2p.HandshakeMessage{}
	// data := []byte{182, 4, 207, 5, 123, 191, 183, 38, 64, 71, 31, 217, 16, 188, 182, 118, 57, 194, 45, 249, 249, 36, 112, 147, 108, 221, 193, 173, 224, 226, 242, 231, 220, 79, 175, 186, 35, 176, 252, 179, 212, 72, 69, 200, 40, 165, 56, 229, 143, 248, 246, 202, 22, 25, 201, 131, 194, 41, 26, 156, 51, 209, 74, 1, 207, 56, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 228, 118, 126, 44, 252, 115, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 49, 50, 55, 46, 48, 46, 48, 46, 49, 58, 57, 56, 55, 54, 32, 45, 32, 97, 102, 98, 97, 50, 51, 98, 102, 244, 0, 0, 0, 0, 244, 102, 94, 171, 21, 199, 9, 188, 30, 1, 14, 30, 84, 253, 165, 99, 226, 69, 72, 55, 78, 88, 137, 117, 120, 209, 63, 215, 221, 77, 103, 244, 0, 0, 0, 0, 244, 103, 216, 211, 35, 221, 239, 126, 121, 233, 136, 2, 22, 231, 200, 218, 248, 20, 49, 119, 58, 169, 186, 223, 155, 118, 160, 16, 144, 159, 3, 111, 115, 120, 16, 34, 69, 79, 83, 32, 84, 101, 115, 116, 32, 65, 103, 101, 110, 116, 34, 1, 0}
	ver := &p2p.SignedBlockMessage{}
	data := []byte{208, 116, 26, 70, 0, 0, 0, 0, 0, 234, 48, 85, 0, 0, 0, 0, 216, 216, 44, 167, 239, 36, 92, 184, 226, 139, 87, 192, 202, 75, 48, 71, 51, 108, 140, 73, 75, 100, 162, 104, 30, 158, 136, 181, 245, 37, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 102, 97, 36, 234, 30, 241, 145, 25, 109, 125, 83, 0, 64, 148, 83, 52, 20, 25, 113, 104, 80, 139, 122, 243, 196, 155, 57, 85, 152, 106, 160, 122, 0, 0, 0, 0, 0, 0, 0, 32, 9, 83, 6, 72, 29, 35, 178, 17, 88, 141, 24, 41, 35, 139, 234, 228, 2, 228, 17, 230, 246, 70, 69, 103, 123, 149, 147, 197, 117, 190, 211, 21, 36, 98, 16, 47, 70, 235, 107, 202, 14, 184, 73, 167, 187, 79, 45, 30, 67, 104, 64, 97, 27, 62, 39, 71, 79, 51, 208, 6, 199, 64, 87, 105, 0, 0}

	err := rlp.DecodeBytes(data, ver)
	if err != nil {
		fmt.Println("error:", err)
	}

	aa, err := json.Marshal(ver)
	if err != nil {
		fmt.Println(err)
	}
	fmt.Println("decode:", string(aa))
	fmt.Println("*****************************")
	storage, err := rlp.EncodeToBytes(ver)
	fmt.Println(storage)

}
